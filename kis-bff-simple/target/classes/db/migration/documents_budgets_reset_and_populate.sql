-- ============================================================================
-- KIS Banking App - Documents and Budgets Module - Complete Database Reset
-- ============================================================================
-- This script creates all tables for documents and budgets modules and populates
-- them with realistic Czech test data
-- ============================================================================

-- ============================================================================
-- STEP 1: DROP EXISTING TABLES (if any)
-- ============================================================================

DROP TABLE DB_JT.KP_DAT_BUDGETPOLOZKA CASCADE CONSTRAINTS;
DROP TABLE DB_JT.KP_DAT_BUDGET CASCADE CONSTRAINTS;
DROP TABLE DB_JT.KP_DAT_DOKUMENT CASCADE CONSTRAINTS;
DROP TABLE DB_JT.KP_CIS_DOKUMENTSTATUS CASCADE CONSTRAINTS;
DROP TABLE DB_JT.KP_CIS_DOKUMENT CASCADE CONSTRAINTS;
DROP TABLE DB_JT.KP_KTG_ODBOR CASCADE CONSTRAINTS;
DROP TABLE DB_JT.KP_KTG_SPOLECNOST CASCADE CONSTRAINTS;
DROP TABLE DB_JT.KP_KTG_APPUSER CASCADE CONSTRAINTS;

-- ============================================================================
-- STEP 2: CREATE LOOKUP/CATALOG TABLES
-- ============================================================================

-- Table: KP_KTG_APPUSER (Application Users)
CREATE TABLE DB_JT.KP_KTG_APPUSER (
    ID NUMBER(19) PRIMARY KEY,
    S_LOGIN VARCHAR2(50) NOT NULL UNIQUE,
    S_JMENO VARCHAR2(100) NOT NULL,
    S_EMAIL VARCHAR2(100),
    S_POZICE VARCHAR2(100),
    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Table: KP_KTG_SPOLECNOST (Companies/Organizations)
CREATE TABLE DB_JT.KP_KTG_SPOLECNOST (
    ID NUMBER(19) PRIMARY KEY,
    S_NAZEV VARCHAR2(200) NOT NULL,
    S_ICO VARCHAR2(20),
    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Table: KP_CIS_DOKUMENT (Document Types)
CREATE TABLE DB_JT.KP_CIS_DOKUMENT (
    ID NUMBER(19) PRIMARY KEY,
    S_KOD VARCHAR2(20) NOT NULL UNIQUE,
    S_NAZEV VARCHAR2(100) NOT NULL,
    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Table: KP_CIS_DOKUMENTSTATUS (Document Statuses)
CREATE TABLE DB_JT.KP_CIS_DOKUMENTSTATUS (
    ID NUMBER(19) PRIMARY KEY,
    S_KOD VARCHAR2(20) NOT NULL UNIQUE,
    S_NAZEV VARCHAR2(100) NOT NULL,
    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Table: KP_KTG_ODBOR (Departments)
CREATE TABLE DB_JT.KP_KTG_ODBOR (
    ID NUMBER(19) PRIMARY KEY,
    S_KOD VARCHAR2(20) NOT NULL UNIQUE,
    S_NAZEV VARCHAR2(200) NOT NULL,
    ACTIVE VARCHAR2(1) DEFAULT 'Y',
    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ============================================================================
-- STEP 3: CREATE DATA TABLES
-- ============================================================================

-- Table: KP_DAT_BUDGET (Budgets)
CREATE TABLE DB_JT.KP_DAT_BUDGET (
    ID NUMBER(19) PRIMARY KEY,
    ID_KTGODBOR NUMBER(19) NOT NULL,
    DT_PLATNOSTOD DATE NOT NULL,
    DT_PLATNOSTDO DATE NOT NULL,
    ID_KTGPROJEKT NUMBER(19),
    DT_SCHVALITDO DATE,
    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT FK_BUDGET_ODBOR FOREIGN KEY (ID_KTGODBOR) REFERENCES DB_JT.KP_KTG_ODBOR(ID)
);

-- Table: KP_DAT_BUDGETPOLOZKA (Budget Line Items - Monthly)
CREATE TABLE DB_JT.KP_DAT_BUDGETPOLOZKA (
    ID NUMBER(19) PRIMARY KEY,
    ID_BUDGET NUMBER(19) NOT NULL,
    MESIC NUMBER(2),
    PLAN_AMOUNT NUMBER(15,2),
    ACTUAL_AMOUNT NUMBER(15,2),
    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT FK_POLOZKA_BUDGET FOREIGN KEY (ID_BUDGET) REFERENCES DB_JT.KP_DAT_BUDGET(ID)
);

-- Table: KP_DAT_DOKUMENT (Documents)
CREATE TABLE DB_JT.KP_DAT_DOKUMENT (
    ID NUMBER(19) PRIMARY KEY,
    ID_CISDOKUMENT NUMBER(19),
    S_CISLODOKLADU VARCHAR2(20),
    ID_SPOLECNOST NUMBER(19),
    ID_BUDGET NUMBER(19),
    ID_ZADAVATEL NUMBER(19),
    ID_CISSTATUS NUMBER(19),
    CASTKA NUMBER(27,2),
    S_MENA VARCHAR2(3),
    DT_DATUMZADANI DATE,
    DT_DATUMSPLATNOSTI DATE,
    S_POPIS VARCHAR2(500),
    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT FK_DOKUMENT_TYP FOREIGN KEY (ID_CISDOKUMENT) REFERENCES DB_JT.KP_CIS_DOKUMENT(ID),
    CONSTRAINT FK_DOKUMENT_STATUS FOREIGN KEY (ID_CISSTATUS) REFERENCES DB_JT.KP_CIS_DOKUMENTSTATUS(ID),
    CONSTRAINT FK_DOKUMENT_SPOLECNOST FOREIGN KEY (ID_SPOLECNOST) REFERENCES DB_JT.KP_KTG_SPOLECNOST(ID),
    CONSTRAINT FK_DOKUMENT_BUDGET FOREIGN KEY (ID_BUDGET) REFERENCES DB_JT.KP_DAT_BUDGET(ID),
    CONSTRAINT FK_DOKUMENT_ZADAVATEL FOREIGN KEY (ID_ZADAVATEL) REFERENCES DB_JT.KP_KTG_APPUSER(ID)
);

-- ============================================================================
-- STEP 4: CREATE INDEXES FOR PERFORMANCE
-- ============================================================================

CREATE INDEX IDX_DOKUMENT_STATUS ON DB_JT.KP_DAT_DOKUMENT(ID_CISSTATUS);
CREATE INDEX IDX_DOKUMENT_TYP ON DB_JT.KP_DAT_DOKUMENT(ID_CISDOKUMENT);
CREATE INDEX IDX_DOKUMENT_SPOLECNOST ON DB_JT.KP_DAT_DOKUMENT(ID_SPOLECNOST);
CREATE INDEX IDX_DOKUMENT_ZADAVATEL ON DB_JT.KP_DAT_DOKUMENT(ID_ZADAVATEL);
CREATE INDEX IDX_BUDGET_ODBOR ON DB_JT.KP_DAT_BUDGET(ID_KTGODBOR);
CREATE INDEX IDX_POLOZKA_BUDGET ON DB_JT.KP_DAT_BUDGETPOLOZKA(ID_BUDGET);

-- ============================================================================
-- STEP 5: POPULATE LOOKUP/CATALOG TABLES
-- ============================================================================

-- Application Users (Shared with Projects)
INSERT INTO DB_JT.KP_KTG_APPUSER (ID, S_LOGIN, S_JMENO, S_EMAIL, S_POZICE, CREATED_AT) VALUES
(1, 'jnovak', 'Jan Novák', 'jan.novak@jtbank.cz', 'CFO', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_KTG_APPUSER (ID, S_LOGIN, S_JMENO, S_EMAIL, S_POZICE, CREATED_AT) VALUES
(2, 'pkova', 'Petra Kováčová', 'petra.kovacova@jtbank.cz', 'Finanční manažer', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_KTG_APPUSER (ID, S_LOGIN, S_JMENO, S_EMAIL, S_POZICE, CREATED_AT) VALUES
(3, 'tnovak', 'Tomáš Novák', 'tomas.novak@jtbank.cz', 'IT Manager', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_KTG_APPUSER (ID, S_LOGIN, S_JMENO, S_EMAIL, S_POZICE, CREATED_AT) VALUES
(4, 'ecerna', 'Eva Černá', 'eva.cerna@jtbank.cz', 'Marketing Manager', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_KTG_APPUSER (ID, S_LOGIN, S_JMENO, S_EMAIL, S_POZICE, CREATED_AT) VALUES
(5, 'mdvorak', 'Martin Dvořák', 'martin.dvorak@jtbank.cz', 'Controller', CURRENT_TIMESTAMP);

-- Companies (Czech banking companies)
INSERT INTO DB_JT.KP_KTG_SPOLECNOST (ID, S_NAZEV, S_ICO, CREATED_AT) VALUES
(1, 'JTBank a.s.', '12345678', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_KTG_SPOLECNOST (ID, S_NAZEV, S_ICO, CREATED_AT) VALUES
(2, 'IT Solutions s.r.o.', '87654321', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_KTG_SPOLECNOST (ID, S_NAZEV, S_ICO, CREATED_AT) VALUES
(3, 'Marketing Pro a.s.', '11223344', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_KTG_SPOLECNOST (ID, S_NAZEV, S_ICO, CREATED_AT) VALUES
(4, 'Office Supplies s.r.o.', '44332211', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_KTG_SPOLECNOST (ID, S_NAZEV, S_ICO, CREATED_AT) VALUES
(5, 'Consulting Group a.s.', '55667788', CURRENT_TIMESTAMP);

-- Document Types
INSERT INTO DB_JT.KP_CIS_DOKUMENT (ID, S_KOD, S_NAZEV, CREATED_AT) VALUES
(1, 'FAKTURA', 'Faktura', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_CIS_DOKUMENT (ID, S_KOD, S_NAZEV, CREATED_AT) VALUES
(2, 'OBJEDNAVKA', 'Objednávka', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_CIS_DOKUMENT (ID, S_KOD, S_NAZEV, CREATED_AT) VALUES
(3, 'SMLOUVA', 'Smlouva', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_CIS_DOKUMENT (ID, S_KOD, S_NAZEV, CREATED_AT) VALUES
(4, 'PLATBA', 'Platební příkaz', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_CIS_DOKUMENT (ID, S_KOD, S_NAZEV, CREATED_AT) VALUES
(5, 'DOBROPIS', 'Dobropis', CURRENT_TIMESTAMP);

-- Document Statuses
INSERT INTO DB_JT.KP_CIS_DOKUMENTSTATUS (ID, S_KOD, S_NAZEV, CREATED_AT) VALUES
(1, 'DRAFT', 'Návrh', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_CIS_DOKUMENTSTATUS (ID, S_KOD, S_NAZEV, CREATED_AT) VALUES
(2, 'PENDING', 'Čeká na schválení', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_CIS_DOKUMENTSTATUS (ID, S_KOD, S_NAZEV, CREATED_AT) VALUES
(3, 'APPROVED', 'Schváleno', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_CIS_DOKUMENTSTATUS (ID, S_KOD, S_NAZEV, CREATED_AT) VALUES
(4, 'REJECTED', 'Zamítnuto', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_CIS_DOKUMENTSTATUS (ID, S_KOD, S_NAZEV, CREATED_AT) VALUES
(5, 'PAID', 'Zaplaceno', CURRENT_TIMESTAMP);

-- Departments
INSERT INTO DB_JT.KP_KTG_ODBOR (ID, S_KOD, S_NAZEV, ACTIVE, CREATED_AT) VALUES
(1, 'IT', 'IT Infrastruktura', 'Y', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_KTG_ODBOR (ID, S_KOD, S_NAZEV, ACTIVE, CREATED_AT) VALUES
(2, 'MARKETING', 'Marketing', 'Y', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_KTG_ODBOR (ID, S_KOD, S_NAZEV, ACTIVE, CREATED_AT) VALUES
(3, 'HR', 'HR & Recruitment', 'Y', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_KTG_ODBOR (ID, S_KOD, S_NAZEV, ACTIVE, CREATED_AT) VALUES
(4, 'FACILITIES', 'Facilities', 'Y', CURRENT_TIMESTAMP);

INSERT INTO DB_JT.KP_KTG_ODBOR (ID, S_KOD, S_NAZEV, ACTIVE, CREATED_AT) VALUES
(5, 'RETAIL', 'Retail Banking', 'Y', CURRENT_TIMESTAMP);

-- ============================================================================
-- STEP 6: POPULATE BUDGETS
-- ============================================================================

-- Budget 1: IT Department 2025
INSERT INTO DB_JT.KP_DAT_BUDGET (ID, ID_KTGODBOR, DT_PLATNOSTOD, DT_PLATNOSTDO, ID_KTGPROJEKT, DT_SCHVALITDO, CREATED_AT, UPDATED_AT) VALUES
(1, 1, DATE '2025-01-01', DATE '2025-12-31', NULL, DATE '2025-01-15', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- Budget 2: Marketing 2025
INSERT INTO DB_JT.KP_DAT_BUDGET (ID, ID_KTGODBOR, DT_PLATNOSTOD, DT_PLATNOSTDO, ID_KTGPROJEKT, DT_SCHVALITDO, CREATED_AT, UPDATED_AT) VALUES
(2, 2, DATE '2025-01-01', DATE '2025-12-31', NULL, DATE '2025-01-15', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- Budget 3: HR 2025
INSERT INTO DB_JT.KP_DAT_BUDGET (ID, ID_KTGODBOR, DT_PLATNOSTOD, DT_PLATNOSTDO, ID_KTGPROJEKT, DT_SCHVALITDO, CREATED_AT, UPDATED_AT) VALUES
(3, 3, DATE '2025-01-01', DATE '2025-12-31', NULL, DATE '2025-01-15', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- Budget 4: Facilities 2025
INSERT INTO DB_JT.KP_DAT_BUDGET (ID, ID_KTGODBOR, DT_PLATNOSTOD, DT_PLATNOSTDO, ID_KTGPROJEKT, DT_SCHVALITDO, CREATED_AT, UPDATED_AT) VALUES
(4, 4, DATE '2025-01-01', DATE '2025-12-31', NULL, DATE '2025-01-15', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- Budget 5: Retail Banking 2025 (Revenue budget)
INSERT INTO DB_JT.KP_DAT_BUDGET (ID, ID_KTGODBOR, DT_PLATNOSTOD, DT_PLATNOSTDO, ID_KTGPROJEKT, DT_SCHVALITDO, CREATED_AT, UPDATED_AT) VALUES
(5, 5, DATE '2025-01-01', DATE '2025-12-31', NULL, DATE '2025-01-15', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- ============================================================================
-- STEP 7: POPULATE BUDGET LINE ITEMS (Monthly breakdown)
-- ============================================================================

-- Budget 1: IT Department - 12 months (Jan-Dec 2025)
-- Total planned: 2,700,000 CZK (varied by month)
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(101, 1, 1, 200000.00, 195000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(102, 1, 2, 200000.00, 205000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(103, 1, 3, 200000.00, 198000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(104, 1, 4, 210000.00, 210000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(105, 1, 5, 210000.00, 215000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(106, 1, 6, 220000.00, 220000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(107, 1, 7, 220000.00, 225000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(108, 1, 8, 230000.00, 230000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(109, 1, 9, 240000.00, 245000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(110, 1, 10, 270000.00, 260000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(111, 1, 11, 300000.00, 290000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(112, 1, 12, 300000.00, 0.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- Budget 2: Marketing - 12 months (Total: 1,800,000 CZK)
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(201, 2, 1, 150000.00, 75000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(202, 2, 2, 150000.00, 80000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(203, 2, 3, 150000.00, 95000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(204, 2, 4, 150000.00, 85000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(205, 2, 5, 150000.00, 90000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(206, 2, 6, 150000.00, 70000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(207, 2, 7, 150000.00, 75000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(208, 2, 8, 150000.00, 80000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(209, 2, 9, 150000.00, 85000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(210, 2, 10, 150000.00, 90000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(211, 2, 11, 150000.00, 125000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(212, 2, 12, 150000.00, 0.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- Budget 3: HR - 12 months (Total: 1,200,000 CZK - evenly distributed)
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(301, 3, 1, 100000.00, 95000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(302, 3, 2, 100000.00, 98000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(303, 3, 3, 100000.00, 97000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(304, 3, 4, 100000.00, 99000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(305, 3, 5, 100000.00, 96000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(306, 3, 6, 100000.00, 94000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(307, 3, 7, 100000.00, 93000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(308, 3, 8, 100000.00, 92000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(309, 3, 9, 100000.00, 91000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(310, 3, 10, 100000.00, 88000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(311, 3, 11, 100000.00, 87000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(312, 3, 12, 100000.00, 0.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- Budget 4: Facilities - 12 months (Total: 800,000 CZK)
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(401, 4, 1, 66666.67, 60000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(402, 4, 2, 66666.67, 62000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(403, 4, 3, 66666.67, 58000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(404, 4, 4, 66666.67, 61000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(405, 4, 5, 66666.67, 59000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(406, 4, 6, 66666.67, 60000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(407, 4, 7, 66666.67, 63000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(408, 4, 8, 66666.67, 64000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(409, 4, 9, 66666.67, 62000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(410, 4, 10, 66666.67, 61000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(411, 4, 11, 66666.67, 60000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(412, 4, 12, 66666.67, 0.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- Budget 5: Retail Banking - Revenue budget (Total: 5,000,000 CZK)
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(501, 5, 1, 416666.67, 405000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(502, 5, 2, 416666.67, 410000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(503, 5, 3, 416666.67, 398000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(504, 5, 4, 416666.67, 415000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(505, 5, 5, 416666.67, 420000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(506, 5, 6, 416666.67, 408000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(507, 5, 7, 416666.67, 412000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(508, 5, 8, 416666.67, 418000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(509, 5, 9, 416666.67, 405000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(510, 5, 10, 416666.67, 409000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(511, 5, 11, 416666.67, 400000.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO DB_JT.KP_DAT_BUDGETPOLOZKA (ID, ID_BUDGET, MESIC, PLAN_AMOUNT, ACTUAL_AMOUNT, CREATED_AT, UPDATED_AT) VALUES
(512, 5, 12, 416666.67, 0.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- ============================================================================
-- STEP 8: POPULATE DOCUMENTS (with realistic Czech data)
-- ============================================================================

-- Document 1: IT Infrastructure invoice - Approved and linked to Budget 1
INSERT INTO DB_JT.KP_DAT_DOKUMENT (ID, ID_CISDOKUMENT, S_CISLODOKLADU, ID_SPOLECNOST, ID_BUDGET, ID_ZADAVATEL, ID_CISSTATUS, CASTKA, S_MENA, DT_DATUMZADANI, DT_DATUMSPLATNOSTI, S_POPIS, CREATED_AT, UPDATED_AT) VALUES
(1, 1, 'FAK-2025-001', 2, 1, 3, 3, 125000.00, 'CZK', DATE '2025-01-15', DATE '2025-02-15', 'Serverový hardware pro upgrade datacenter', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- Document 2: Marketing campaign - Pending approval
INSERT INTO DB_JT.KP_DAT_DOKUMENT (ID, ID_CISDOKUMENT, S_CISLODOKLADU, ID_SPOLECNOST, ID_BUDGET, ID_ZADAVATEL, ID_CISSTATUS, CASTKA, S_MENA, DT_DATUMZADANI, DT_DATUMSPLATNOSTI, S_POPIS, CREATED_AT, UPDATED_AT) VALUES
(2, 1, 'FAK-2025-002', 3, 2, 4, 2, 85000.00, 'CZK', DATE '2025-02-01', DATE '2025-03-01', 'Online marketingová kampaň Q1/2025', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- Document 3: Office supplies - Paid
INSERT INTO DB_JT.KP_DAT_DOKUMENT (ID, ID_CISDOKUMENT, S_CISLODOKLADU, ID_SPOLECNOST, ID_BUDGET, ID_ZADAVATEL, ID_CISSTATUS, CASTKA, S_MENA, DT_DATUMZADANI, DT_DATUMSPLATNOSTI, S_POPIS, CREATED_AT, UPDATED_AT) VALUES
(3, 1, 'FAK-2025-003', 4, 4, 1, 5, 32500.00, 'CZK', DATE '2025-01-10', DATE '2025-01-31', 'Kancelářské potřeby a spotřební materiál', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- Document 4: IT Software license - Approved
INSERT INTO DB_JT.KP_DAT_DOKUMENT (ID, ID_CISDOKUMENT, S_CISLODOKLADU, ID_SPOLECNOST, ID_BUDGET, ID_ZADAVATEL, ID_CISSTATUS, CASTKA, S_MENA, DT_DATUMZADANI, DT_DATUMSPLATNOSTI, S_POPIS, CREATED_AT, UPDATED_AT) VALUES
(4, 2, 'OBJ-2025-001', 2, 1, 3, 3, 450000.00, 'CZK', DATE '2025-02-15', DATE '2025-03-15', 'Roční licence Microsoft 365 Enterprise', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- Document 5: Consulting services - Draft
INSERT INTO DB_JT.KP_DAT_DOKUMENT (ID, ID_CISDOKUMENT, S_CISLODOKLADU, ID_SPOLECNOST, ID_BUDGET, ID_ZADAVATEL, ID_CISSTATUS, CASTKA, S_MENA, DT_DATUMZADANI, DT_DATUMSPLATNOSTI, S_POPIS, CREATED_AT, UPDATED_AT) VALUES
(5, 3, 'SM-2025-001', 5, 2, 4, 1, 275000.00, 'CZK', DATE '2025-03-01', DATE '2025-12-31', 'Smlouva na marketingové poradenství 2025', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- Document 6: HR recruitment services - Pending
INSERT INTO DB_JT.KP_DAT_DOKUMENT (ID, ID_CISDOKUMENT, S_CISLODOKLADU, ID_SPOLECNOST, ID_BUDGET, ID_ZADAVATEL, ID_CISSTATUS, CASTKA, S_MENA, DT_DATUMZADANI, DT_DATUMSPLATNOSTI, S_POPIS, CREATED_AT, UPDATED_AT) VALUES
(6, 1, 'FAK-2025-004', 5, 3, 2, 2, 95000.00, 'CZK', DATE '2025-02-20', DATE '2025-03-20', 'Služby náboru zaměstnanců - IT specialisté', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- Document 7: IT infrastructure - Rejected (too expensive)
INSERT INTO DB_JT.KP_DAT_DOKUMENT (ID, ID_CISDOKUMENT, S_CISLODOKLADU, ID_SPOLECNOST, ID_BUDGET, ID_ZADAVATEL, ID_CISSTATUS, CASTKA, S_MENA, DT_DATUMZADANI, DT_DATUMSPLATNOSTI, S_POPIS, CREATED_AT, UPDATED_AT) VALUES
(7, 2, 'OBJ-2025-002', 2, 1, 3, 4, 890000.00, 'CZK', DATE '2025-01-25', DATE '2025-02-25', 'Kompletní upgrade síťové infrastruktury - ZAMÍTNUTO', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- Document 8: Marketing services - Approved
INSERT INTO DB_JT.KP_DAT_DOKUMENT (ID, ID_CISDOKUMENT, S_CISLODOKLADU, ID_SPOLECNOST, ID_BUDGET, ID_ZADAVATEL, ID_CISSTATUS, CASTKA, S_MENA, DT_DATUMZADANI, DT_DATUMSPLATNOSTI, S_POPIS, CREATED_AT, UPDATED_AT) VALUES
(8, 1, 'FAK-2025-005', 3, 2, 4, 3, 125000.00, 'CZK', DATE '2025-03-05', DATE '2025-04-05', 'Social media marketing - Q1 kampaň', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- Document 9: Facilities - Office equipment - Paid
INSERT INTO DB_JT.KP_DAT_DOKUMENT (ID, ID_CISDOKUMENT, S_CISLODOKLADU, ID_SPOLECNOST, ID_BUDGET, ID_ZADAVATEL, ID_CISSTATUS, CASTKA, S_MENA, DT_DATUMZADANI, DT_DATUMSPLATNOSTI, S_POPIS, CREATED_AT, UPDATED_AT) VALUES
(9, 1, 'FAK-2025-006', 4, 4, 1, 5, 62000.00, 'CZK', DATE '2025-02-10', DATE '2025-03-10', 'Kancelářský nábytek - 5 pracovních stanic', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- Document 10: IT Cloud services - Pending
INSERT INTO DB_JT.KP_DAT_DOKUMENT (ID, ID_CISDOKUMENT, S_CISLODOKLADU, ID_SPOLECNOST, ID_BUDGET, ID_ZADAVATEL, ID_CISSTATUS, CASTKA, S_MENA, DT_DATUMZADANI, DT_DATUMSPLATNOSTI, S_POPIS, CREATED_AT, UPDATED_AT) VALUES
(10, 4, 'PP-2025-001', 2, 1, 3, 2, 180000.00, 'CZK', DATE '2025-03-15', DATE '2025-04-01', 'Platba za Azure cloud služby - Q1/2025', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- ============================================================================
-- COMMIT ALL CHANGES
-- ============================================================================

COMMIT;
