## Executive Summary

   **AnalÃ½za date**: 2025-12-09
   **ZdrojovÃ¡ aplikace**: KIS (KonsolidaÄnÃ­ InformaÄnÃ­ SystÃ©m) - JSP/Oracle/Java
   **CÃ­lovÃ¡ technologie**: React 19 + TypeScript + Vite + Tailwind CSS

   ---

   ## 1. ANALÃZA EXISTUJÃCÃ APLIKACE

   ### 1.1 Menu Struktura (menu.jsp)

   Aplikace mÃ¡ 9 hlavnÃ­ch modulÅ¯:

   #### **MODUL 1: Doklady spoleÄnostÃ­** (`top0`)
   - RKC ÄeskÃ©/slovenskÃ©/zahraniÄnÃ­
   - OstatnÃ­ ÄeskÃ©/slovenskÃ©/zahraniÄnÃ­
   - ManuÃ¡lnÃ­ ÄeskÃ©/slovenskÃ©/zahraniÄnÃ­
   - ArchivnÃ­
   - SpecifickÃ½ reÅ¾im

   **JSP strÃ¡nky**:
   - `DokladySpol.jsp` - Seznam dokladÅ¯ spoleÄnostÃ­
   - `DokladyMan.jsp` - ManuÃ¡lnÃ­ doklady
   - `DokladyArchivni.jsp` - ArchivnÃ­ doklady
   - `DokladyDetail*.jsp` - Detail dokladÅ¯
   - `DocFilterSpol.jsp` - Filtry dokladÅ¯

   #### **MODUL 2: Emise a MajetkovÃ© ÃšÄasti** (`top1`)
   - SprÃ¡va emisÃ­
   - SprÃ¡va majetkovÃ½ch ÃºÄastÃ­
   - PÅ™ehled majetkovÃ½ch ÃºÄastÃ­
   - PÅ™ehled zmÄ›n MÃš
   - Kontrola MÃš - definice ÃºÄtÅ¯

   **JSP strÃ¡nky**:
   - `FininvInvestice.jsp` - SprÃ¡va investic/emisÃ­
   - `Majetek.jsp` - SprÃ¡va majetku
   - `MajetekPrehled.jsp` - PÅ™ehled majetku
   - `MajetekPrehledFiltr.jsp` - FiltrovanÃ½ pÅ™ehled zmÄ›n
   - `MajetekKontrola.jsp` - Kontrola definice ÃºÄtÅ¯

   #### **MODUL 3: ÃšÄetnÃ­/MÄ›novÃ© pozice** (`top2`)
   - MÄ›novÃ© pozice banky/sub.banky/skupin
   - ÃšvÄ›rovÃ© pozice banky/sub.banky/skupin
   - Export Cash Flow
   - NastavenÃ­ kapitÃ¡lu

   **JSP strÃ¡nky**:
   - `PoziceMenove.jsp` - MÄ›novÃ© pozice
   - `PoziceUverove.jsp` - ÃšvÄ›rovÃ© pozice
   - `PoziceCashFlowExport.jsp` - Export Cash Flow
   - `PoziceKapital.jsp` - NastavenÃ­ kapitÃ¡lu

   #### **MODUL 4: Projekty** (`top4`) âœ… ÄŒÃSTEÄŒNÄš IMPLEMENTOVÃNO
   - Evidence projektÅ¯ a CF
   - Evidence ÃºvÄ›rÅ¯
   - NÃ¡vrhy projektÅ¯
   - NovÃ½ nÃ¡vrh projektu
   - Struktura holdingu

   **JSP strÃ¡nky**:
   - `Projekty.jsp` - Seznam projektÅ¯ âœ…
   - `ProjektEdit.jsp` - Editace projektu âœ…
   - `Uvery.jsp` - Evidence ÃºvÄ›rÅ¯
   - `ProjektNavrhy.jsp` - NÃ¡vrhy projektÅ¯
   - `ProjektNavrhEdit.jsp` - Editace nÃ¡vrhu
   - `Segmenty.jsp` - Struktura holdingu

   #### **MODUL 5: SchvalovacÃ­ listy** (`top5`)
   - Definice schvalovacÃ­ch listÅ¯
   - OdeslanÃ© schvalovacÃ­ listy
   - PÅ™ijatÃ© schvalovacÃ­ listy
   - ZaÄÃ­tovÃ¡nÃ­ schvalovacÃ­ch listÅ¯
   - Kontroling SL spoleÄnostÃ­
   - Kontroling vÅ¡ech SL

   **JSP strÃ¡nky**:
   - `DocZadavani.jsp` - Definice SL
   - `DocOdeslane.jsp` - OdeslanÃ© SL
   - `DocPrijate.jsp` - PÅ™ijatÃ© SL
   - `DocUcetni.jsp` - ZaÄÃ­tovÃ¡nÃ­ SL
   - `DocKontroling.jsp` - Kontroling SL

   #### **MODUL 6: Budgeting** (`top6`)
   - PlÃ¡novÃ¡nÃ­/ÄerpÃ¡nÃ­ b. odborÅ¯
   - GestorovÃ¡nÃ­ b. odborÅ¯
   - ProhlÃ­Å¾enÃ­ dle odborÅ¯ spol.
   - PlÃ¡novÃ¡nÃ­/ÄerpÃ¡nÃ­ b. projektÅ¯
   - GestorovÃ¡nÃ­ b. projektÅ¯
   - ProhlÃ­Å¾enÃ­ dle projektÅ¯

   **JSP strÃ¡nky**:
   - `BudgetStd2.jsp` - PlÃ¡novÃ¡nÃ­ odborÅ¯ âœ…
   - `BudgetGestor2.jsp` - GestorovÃ¡nÃ­ odborÅ¯
   - `BudgetView.jsp` - ProhlÃ­Å¾enÃ­ odborÅ¯
   - `BudgetProjektStd2.jsp` - PlÃ¡novÃ¡nÃ­ projektÅ¯
   - `BudgetProjektGestor2.jsp` - GestorovÃ¡nÃ­ projektÅ¯
   - `BudgetProjektView.jsp` - ProhlÃ­Å¾enÃ­ projektÅ¯

   #### **MODUL 7: NastavenÃ­ - Cartesis** (`9subCart`)
   - VÃ½stupy - export
   - ÃšÄet unif. x flow

   **JSP strÃ¡nky**:
   - `Cartesis.jsp` - Export vÃ½stupÅ¯
   - `FlowUcetUnif.jsp` - MapovÃ¡nÃ­ ÃºÄtÅ¯

   #### **MODUL 8: NastavenÃ­ - EvidovanÃ© spoleÄnosti** (`9sub00`)
   - EvidovanÃ© spoleÄnosti
   - KonsolidaÄnÃ­ skupiny
   - AdministrovanÃ© spoleÄnosti
   - Protistrany - skupiny
   - VÃ½jimky protokolÅ¯
   - VÃ½jimky zamykÃ¡nÃ­ OOH
   - Karty SPV - datum
   - NadÅ™Ã­zenÃ­ ÃºÄetnÃ­
   - Editace externÃ­ch uÅ¾ivatelÅ¯

   **JSP strÃ¡nky**:
   - `UcSkup.jsp` - ÃšÄetnÃ­ skupiny
   - `Subkons.jsp` - Sub-konsolidace
   - `EviSpolecnost.jsp` - AdministrovanÃ© spoleÄnosti
   - `ProtiGroupCust.jsp` - Skupiny protistran
   - `VyjimkyProtokolu.jsp` - VÃ½jimky protokolÅ¯
   - `UsersExtEditor.jsp` - ExternÃ­ uÅ¾ivatelÃ©

   #### **MODUL 9: NastavenÃ­ - PÅ™evodovÃ© mÅ¯stky** (`9sub70`)
   - MÅ¯stky bilance
   - MÅ¯stky bilance 2007
   - MÅ¯stky podnik. bilance
   - MÅ¯stky unif. ÃºÄtÅ¯
   - VÃ½jimky protistran
   - VÃ½jimky vzÃ¡j. vazeb
   - Skupiny sub. protistran
   - Protistrany - zmÄ›na IÄŒ
   - VÃ½jimky sub-kons. vazeb
   - MÅ¯stky budgetÅ¯

   **JSP strÃ¡nky**:
   - `Mustky.jsp` - MÅ¯stky bilance
   - `Mustky2007.jsp` - MÅ¯stky bilance 2007
   - `MustkyPodnikatel.jsp` - MÅ¯stky podnik. bilance
   - `MustkyUcet2Ucet.jsp` - MÅ¯stky unif. ÃºÄtÅ¯
   - `VyjimkyPs.jsp` - VÃ½jimky protistran
   - `VyjimkyMajUc.jsp` - VÃ½jimky vzÃ¡j. vazeb
   - `BudgetMustky.jsp` - MÅ¯stky budgetÅ¯

   #### **MODUL 10: NastavenÃ­ - ÄŒÃ­selnÃ­ky** (`9sub80`)
   - NastavenÃ­ ÃºrovnÃ­ bud.
   - Data schvalovÃ¡nÃ­ bud.
   - ÄŒÃ­selnÃ­ky maj. ÃºÄastÃ­
   - ÄŒÃ­selnÃ­ky projektÅ¯
   - ÄŒÃ­selnÃ­ky schval. listÅ¯
   - ÄŒÃ­selnÃ­k MIS ÃºÄtÅ¯ MD/D
   - ÄŒÃ­selnÃ­ky holdingÅ¯
   - Typy karet spol.

   **JSP strÃ¡nky**:
   - `BudgetNastaveniUrovni.jsp` - NastavenÃ­ ÃºrovnÃ­
   - `BudgetNastaveni.jsp` - Data schvalovÃ¡nÃ­
   - `MajetekCis.jsp` - ÄŒÃ­selnÃ­ky majetku
   - `ProjCis.jsp` - ÄŒÃ­selnÃ­ky projektÅ¯
   - `DocCis.jsp` - ÄŒÃ­selnÃ­ky SL
   - `DocMisCisUcet.jsp` - ÄŒÃ­selnÃ­k MIS ÃºÄtÅ¯
   - `CisSegment.jsp` - ÄŒÃ­selnÃ­ky holdingÅ¯
   - `UcSpolKartaTyp.jsp` - Typy karet

   #### **MODUL 11: NastavenÃ­ - AdministrÃ¡tor** (`9sub90`)
   - PrÃ¡va uÅ¾. na spol.
   - PrÃ¡va uÅ¾. na proj.
   - ÃšrovnÄ› schval. MIS
   - VÃ½jimky uÅ¾ivatelÅ¯
   - UÅ¾ivatelÃ© kons. skupin
   - Editace uÅ¾ivatelÅ¯
   - SprÃ¡va uÅ¾. Oracle AS
   - Import uÅ¾. z XML do DB
   - Parametry systÃ©mu
   - SprÃ¡va e-mail zprÃ¡v
   - e-maily admin. spol.
   - ManuÃ¡lnÃ­ akce
   - Doklady pro OLAP
   - MazÃ¡nÃ­ TEMP atp.

   **JSP strÃ¡nky**:
   - `UsersSpol.jsp` - PrÃ¡va na spoleÄnosti
   - `UsersProjekt.jsp` - PrÃ¡va na projekty
   - `DocUrovneMis.jsp` - ÃšrovnÄ› schvalovÃ¡nÃ­ MIS
   - `UsersVyjimky.jsp` - VÃ½jimky uÅ¾ivatelÅ¯
   - `UsersSkupina.jsp` - UÅ¾ivatelÃ© skupin
   - `UsersEditor.jsp` - Editace uÅ¾ivatelÅ¯
   - `UsersToTable.jsp` - Import uÅ¾ivatelÅ¯
   - `ParametryEdit.jsp` - Parametry systÃ©mu
   - `EmailMsg.jsp` - E-mail zprÃ¡vy
   - `ManualniAkce.jsp` - ManuÃ¡lnÃ­ akce
   - `Mazani.jsp` - MazÃ¡nÃ­ dat

   ### 1.2 Left Menu (LeftMenu.jsp)

   #### **OblÃ­benÃ©**
   - OdeslanÃ© SL
   - PÅ™ijatÃ© SL (NOVÃ‰)
   - PÅ™ijatÃ© SL (pÅ¯vodnÃ­ verze)
   - SL ke SchvÃ¡lenÃ­
   - ZastupovÃ¡nÃ­ pro SL

   #### **PÅ™ehledy**
   - KonsolidovanÃ© spoleÄnosti
   - Projekty âœ…
   - SpoleÄnosti KIS
   - Holdingy OOH

   #### **Kontroling spol.**
   - SpoleÄnosti OO
   - SchvalovacÃ­ listy
   - ZamykÃ¡nÃ­ dokladÅ¯
   - SouhrnnÃ½ reporting

   #### **KontrolnÃ­**
   - SjednocenÃ½ ÄÃ­selnÃ­k protistran
   - Fronta poÅ¾adavkÅ¯ na generovÃ¡nÃ­
   - Protokoly

   #### **UÅ¾iv. nastavenÃ­**
   - ZastupovÃ¡nÃ­ pro SL
   - ZastupovÃ¡nÃ­ pro budgeting
   - ZastupovÃ¡nÃ­ OOH
   - ImplicitnÃ­ spol. pro SL
   - ZmÄ›na hesla

   ---

   ## 2. FRONTEND ARCHITEKTURA - KOMPLETNÃ NÃVRH

   ### 2.1 Technologie Stack

   ```
   React 19 (Server Components ready)
   TypeScript 5.x (Strict mode)
   Vite 7.x (Build tool)
   React Router 6.x (Client-side routing)
   TanStack Table 8.x (Data tables)
   React Hook Form + Zod (Forms & validation)
   TanStack Query (Server state management)
   Zustand (Client state management)
   Tailwind CSS 3.x (Styling)
   Vitest + Testing Library (Testing)
   Playwright (E2E testing)
   ```

   ### 2.2 Directory Structure

   ```
   kis-frontend/
   â”œâ”€â”€ public/
   â”‚   â”œâ”€â”€ favicon.ico
   â”‚   â””â”€â”€ img/
   â”œâ”€â”€ src/
   â”‚   â”œâ”€â”€ api/                        # API clients
   â”‚   â”‚   â”œâ”€â”€ budgetApi.ts           âœ…
   â”‚   â”‚   â”œâ”€â”€ documentApi.ts         âœ…
   â”‚   â”‚   â”œâ”€â”€ projectApi.ts          âœ…
   â”‚   â”‚   â”œâ”€â”€ assetApi.ts            # Majetek
   â”‚   â”‚   â”œâ”€â”€ positionApi.ts         # Pozice
   â”‚   â”‚   â”œâ”€â”€ approvalApi.ts         # Schval. listy
   â”‚   â”‚   â”œâ”€â”€ adminApi.ts            # Admin
   â”‚   â”‚   â”œâ”€â”€ referenceApi.ts        # ÄŒÃ­selnÃ­ky
   â”‚   â”‚   â””â”€â”€ userApi.ts             # UÅ¾ivatelÃ©
   â”‚   â”‚
   â”‚   â”œâ”€â”€ components/
   â”‚   â”‚   â”œâ”€â”€ ui/                    # Base UI components
   â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx         âœ…
   â”‚   â”‚   â”‚   â”œâ”€â”€ Input.tsx          âœ…
   â”‚   â”‚   â”‚   â”œâ”€â”€ Select.tsx         âœ…
   â”‚   â”‚   â”‚   â”œâ”€â”€ Checkbox.tsx       âœ…
   â”‚   â”‚   â”‚   â”œâ”€â”€ Radio.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ DatePicker.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ Modal.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ Table.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ Tabs.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ Card.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ Badge.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ Alert.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ Spinner.tsx
   â”‚   â”‚   â”‚   â””â”€â”€ Tooltip.tsx
   â”‚   â”‚   â”‚
   â”‚   â”‚   â”œâ”€â”€ layout/                # Layout components
   â”‚   â”‚   â”‚   â”œâ”€â”€ MainLayout.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ TopMenu.tsx        # Horizontal menu
   â”‚   â”‚   â”‚   â”œâ”€â”€ LeftMenu.tsx       # Vertical favorites menu
   â”‚   â”‚   â”‚   â”œâ”€â”€ Breadcrumb.tsx
   â”‚   â”‚   â”‚   â””â”€â”€ Footer.tsx
   â”‚   â”‚   â”‚
   â”‚   â”‚   â”œâ”€â”€ documents/             # Doklady
   â”‚   â”‚   â”‚   â”œâ”€â”€ DocumentFiltersPanel.tsx  âœ…
   â”‚   â”‚   â”‚   â”œâ”€â”€ DocumentDetail.tsx        âœ…
   â”‚   â”‚   â”‚   â”œâ”€â”€ DocumentTable.tsx
   â”‚   â”‚   â”‚   â””â”€â”€ DocumentUploadModal.tsx
   â”‚   â”‚   â”‚
   â”‚   â”‚   â”œâ”€â”€ budgets/               # Budgeting
   â”‚   â”‚   â”‚   â”œâ”€â”€ NewBudgetModal.tsx       âœ…
   â”‚   â”‚   â”‚   â”œâ”€â”€ EditBudgetModal.tsx      âœ…
   â”‚   â”‚   â”‚   â”œâ”€â”€ BudgetTable.tsx
   â”‚   â”‚   â”‚   â””â”€â”€ BudgetApprovalFlow.tsx
   â”‚   â”‚   â”‚
   â”‚   â”‚   â”œâ”€â”€ projects/              # Projekty
   â”‚   â”‚   â”‚   â”œâ”€â”€ NewProjectModal.tsx      âœ…
   â”‚   â”‚   â”‚   â”œâ”€â”€ EditProjectModal.tsx     âœ…
   â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectTable.tsx
   â”‚   â”‚   â”‚   â””â”€â”€ ProjectCashFlowTable.tsx
   â”‚   â”‚   â”‚
   â”‚   â”‚   â”œâ”€â”€ assets/                # Majetek
   â”‚   â”‚   â”‚   â”œâ”€â”€ AssetTable.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ AssetEditModal.tsx
   â”‚   â”‚   â”‚   â””â”€â”€ AssetControlPanel.tsx
   â”‚   â”‚   â”‚
   â”‚   â”‚   â”œâ”€â”€ positions/             # Pozice
   â”‚   â”‚   â”‚   â”œâ”€â”€ CurrencyPositionTable.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ CreditPositionTable.tsx
   â”‚   â”‚   â”‚   â””â”€â”€ CashFlowExport.tsx
   â”‚   â”‚   â”‚
   â”‚   â”‚   â”œâ”€â”€ approvals/             # Schval. listy
   â”‚   â”‚   â”‚   â”œâ”€â”€ ApprovalModal.tsx        âœ…
   â”‚   â”‚   â”‚   â”œâ”€â”€ ApprovalListTable.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ ApprovalWorkflow.tsx
   â”‚   â”‚   â”‚   â””â”€â”€ ApprovalControlling.tsx
   â”‚   â”‚   â”‚
   â”‚   â”‚   â”œâ”€â”€ admin/                 # Administrace
   â”‚   â”‚   â”‚   â”œâ”€â”€ UserManagement.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ CompanyManagement.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ PermissionsMatrix.tsx
   â”‚   â”‚   â”‚   â””â”€â”€ SystemParameters.tsx
   â”‚   â”‚   â”‚
   â”‚   â”‚   â””â”€â”€ shared/                # Shared components
   â”‚   â”‚       â”œâ”€â”€ SearchBar.tsx
   â”‚   â”‚       â”œâ”€â”€ Pagination.tsx
   â”‚   â”‚       â”œâ”€â”€ StatusBadge.tsx
   â”‚   â”‚       â”œâ”€â”€ ExportButton.tsx
   â”‚   â”‚       â””â”€â”€ FilterPanel.tsx
   â”‚   â”‚
   â”‚   â”œâ”€â”€ pages/
   â”‚   â”‚   â”œâ”€â”€ DashboardPage.tsx              âœ…
   â”‚   â”‚   â”œâ”€â”€ LoginPage.tsx
   â”‚   â”‚   â”‚
   â”‚   â”‚   â”œâ”€â”€ documents/                     # Modul 1
   â”‚   â”‚   â”‚   â”œâ”€â”€ DocumentsListPage.tsx     âœ…
   â”‚   â”‚   â”‚   â”œâ”€â”€ DocumentDetailPage.tsx     âœ…
   â”‚   â”‚   â”‚   â”œâ”€â”€ DocumentsManualPage.tsx
   â”‚   â”‚   â”‚   â””â”€â”€ DocumentsArchivePage.tsx
   â”‚   â”‚   â”‚
   â”‚   â”‚   â”œâ”€â”€ assets/                        # Modul 2
   â”‚   â”‚   â”‚   â”œâ”€â”€ AssetsListPage.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ AssetDetailPage.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ AssetsOverviewPage.tsx
   â”‚   â”‚   â”‚   â””â”€â”€ AssetsControlPage.tsx
   â”‚   â”‚   â”‚
   â”‚   â”‚   â”œâ”€â”€ positions/                     # Modul 3
   â”‚   â”‚   â”‚   â”œâ”€â”€ CurrencyPositionsPage.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ CreditPositionsPage.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ CashFlowExportPage.tsx
   â”‚   â”‚   â”‚   â””â”€â”€ CapitalSettingsPage.tsx
   â”‚   â”‚   â”‚
   â”‚   â”‚   â”œâ”€â”€ projects/                      # Modul 4
   â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectListPage.tsx       âœ…
   â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectDetailPage.tsx     âœ…
   â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectProposalsPage.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ LoansListPage.tsx
   â”‚   â”‚   â”‚   â””â”€â”€ HoldingStructurePage.tsx
   â”‚   â”‚   â”‚
   â”‚   â”‚   â”œâ”€â”€ approvals/                     # Modul 5
   â”‚   â”‚   â”‚   â”œâ”€â”€ ApprovalDefinitionsPage.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ ApprovalsSentPage.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ ApprovalsReceivedPage.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ ApprovalsAccountingPage.tsx
   â”‚   â”‚   â”‚   â””â”€â”€ ApprovalsControllingPage.tsx
   â”‚   â”‚   â”‚
   â”‚   â”‚   â”œâ”€â”€ budgets/                       # Modul 6
   â”‚   â”‚   â”‚   â”œâ”€â”€ BudgetListPage.tsx        âœ…
   â”‚   â”‚   â”‚   â”œâ”€â”€ BudgetDetailPage.tsx      âœ…
   â”‚   â”‚   â”‚   â”œâ”€â”€ BudgetDashboard.tsx       âœ…
   â”‚   â”‚   â”‚   â”œâ”€â”€ BudgetDepartmentPage.tsx
   â”‚   â”‚   â”‚   â”œâ”€â”€ BudgetProjectPage.tsx
   â”‚   â”‚   â”‚   â””â”€â”€ BudgetGestorPage.tsx
   â”‚   â”‚   â”‚
   â”‚   â”‚   â””â”€â”€ admin/                         # Moduly 7-11
   â”‚   â”‚       â”œâ”€â”€ settings/
   â”‚   â”‚       â”‚   â”œâ”€â”€ CartesisExportPage.tsx
   â”‚   â”‚       â”‚   â”œâ”€â”€ AccountMappingPage.tsx
   â”‚   â”‚       â”‚   â”œâ”€â”€ CompaniesPage.tsx
   â”‚   â”‚       â”‚   â””â”€â”€ ConsolidationGroupsPage.tsx
   â”‚   â”‚       â”œâ”€â”€ bridges/
   â”‚   â”‚       â”‚   â”œâ”€â”€ BalanceBridgesPage.tsx
   â”‚   â”‚       â”‚   â”œâ”€â”€ AccountBridgesPage.tsx
   â”‚   â”‚       â”‚   â””â”€â”€ BudgetBridgesPage.tsx
   â”‚   â”‚       â”œâ”€â”€ references/
   â”‚   â”‚       â”‚   â”œâ”€â”€ AssetReferencesPage.tsx
   â”‚   â”‚       â”‚   â”œâ”€â”€ ProjectReferencesPage.tsx
   â”‚   â”‚       â”‚   â””â”€â”€ ApprovalReferencesPage.tsx
   â”‚   â”‚       â””â”€â”€ users/
   â”‚   â”‚           â”œâ”€â”€ UserPermissionsPage.tsx
   â”‚   â”‚           â”œâ”€â”€ UserEditorPage.tsx
   â”‚   â”‚           â”œâ”€â”€ SystemParametersPage.tsx
   â”‚   â”‚           â””â”€â”€ EmailManagementPage.tsx
   â”‚   â”‚
   â”‚   â”œâ”€â”€ types/
   â”‚   â”‚   â”œâ”€â”€ budget.ts              âœ…
   â”‚   â”‚   â”œâ”€â”€ document.ts            âœ…
   â”‚   â”‚   â”œâ”€â”€ project.ts             âœ…
   â”‚   â”‚   â”œâ”€â”€ asset.ts
   â”‚   â”‚   â”œâ”€â”€ position.ts
   â”‚   â”‚   â”œâ”€â”€ approval.ts
   â”‚   â”‚   â”œâ”€â”€ user.ts
   â”‚   â”‚   â”œâ”€â”€ reference.ts
   â”‚   â”‚   â””â”€â”€ common.ts
   â”‚   â”‚
   â”‚   â”œâ”€â”€ hooks/
   â”‚   â”‚   â”œâ”€â”€ useAuth.ts
   â”‚   â”‚   â”œâ”€â”€ usePermissions.ts
   â”‚   â”‚   â”œâ”€â”€ useToast.ts
   â”‚   â”‚   â”œâ”€â”€ useDebounce.ts
   â”‚   â”‚   â”œâ”€â”€ useLocalStorage.ts
   â”‚   â”‚   â””â”€â”€ useQueryParams.ts
   â”‚   â”‚
   â”‚   â”œâ”€â”€ store/
   â”‚   â”‚   â”œâ”€â”€ authStore.ts
   â”‚   â”‚   â”œâ”€â”€ userStore.ts
   â”‚   â”‚   â””â”€â”€ uiStore.ts
   â”‚   â”‚
   â”‚   â”œâ”€â”€ lib/
   â”‚   â”‚   â”œâ”€â”€ utils.ts               âœ…
   â”‚   â”‚   â”œâ”€â”€ api.ts                 # Base API client
   â”‚   â”‚   â”œâ”€â”€ auth.ts                # Auth utilities
   â”‚   â”‚   â””â”€â”€ validators.ts          # Common validators
   â”‚   â”‚
   â”‚   â”œâ”€â”€ styles/
   â”‚   â”‚   â”œâ”€â”€ globals.css
   â”‚   â”‚   â”œâ”€â”€ variables.css
   â”‚   â”‚   â””â”€â”€ themes.css
   â”‚   â”‚
   â”‚   â”œâ”€â”€ App.tsx                    âœ…
   â”‚   â”œâ”€â”€ main.tsx                   âœ…
   â”‚   â””â”€â”€ router.tsx                 # Router configuration
   â”‚
   â”œâ”€â”€ tests/
   â”‚   â”œâ”€â”€ unit/
   â”‚   â”œâ”€â”€ integration/
   â”‚   â””â”€â”€ e2e/
   â”‚
   â”œâ”€â”€ .env.example
   â”œâ”€â”€ .env.local
   â”œâ”€â”€ tsconfig.json
   â”œâ”€â”€ vite.config.ts
   â”œâ”€â”€ tailwind.config.js
   â”œâ”€â”€ package.json
   â””â”€â”€ README.md
   ```

   ---

   ## 3. IMPLEMENTAÄŒNÃ PLÃN

   ### Phase 1: Core Infrastructure (1-2 tÃ½dny)
   âœ… **HOTOVO**:
   - [x] Project setup (Vite, React, TypeScript, Tailwind)
   - [x] Base UI components (Button, Input, Select, Checkbox)
   - [x] Layout structure
   - [x] Routing setup
   - [x] API client setup

   ### Phase 2: Authentication & Authorization (1 tÃ½den)
   - [ ] Login page
   - [ ] Auth API integration
   - [ ] Protected routes
   - [ ] Permission system
   - [ ] User context/store

   ### Phase 3: Module 1 - Doklady spoleÄnostÃ­ (2 tÃ½dny)
   âœ… **ÄŒÃSTEÄŒNÄš HOTOVO**:
   - [x] Documents list page (basic)
   - [x] Document detail page (basic)
   - [x] Document filters panel

   ğŸ”² **TODO**:
   - [ ] RKC documents categorization
   - [ ] Manual documents page
   - [ ] Archive documents page
   - [ ] Document upload functionality
   - [ ] Specific regime handling

   ### Phase 4: Module 4 - Projekty (1-2 tÃ½dny)
   âœ… **HOTOVO**:
   - [x] Projects list page
   - [x] Project detail page
   - [x] New project modal (comprehensive)
   - [x] Edit project modal (comprehensive)
   - [x] Project API integration
   - [x] Project types & reference data

   ğŸ”² **TODO**:
   - [ ] Project proposals page
   - [ ] Loans management page
   - [ ] Holding structure page
   - [ ] Cash flow detailed view

   ### Phase 5: Module 6 - Budgeting (1-2 tÃ½dny)
   âœ… **ÄŒÃSTEÄŒNÄš HOTOVO**:
   - [x] Budget list page
   - [x] Budget detail page
   - [x] Budget dashboard
   - [x] New budget modal
   - [x] Edit budget modal

   ğŸ”² **TODO**:
   - [ ] Department budget planning
   - [ ] Project budget planning
   - [ ] Budget gestor views
   - [ ] Budget approval workflow

   ### Phase 6: Module 2 - Emise a MajetkovÃ© ÃšÄasti (2 tÃ½dny)
   - [ ] Assets list page
   - [ ] Asset detail page
   - [ ] Emissions management
   - [ ] Asset overview page
   - [ ] Asset changes tracking
   - [ ] Asset control page

   ### Phase 7: Module 3 - ÃšÄetnÃ­/MÄ›novÃ© pozice (1-2 tÃ½dny)
   - [ ] Currency positions page
   - [ ] Credit positions page
   - [ ] Cash flow export page
   - [ ] Capital settings page

   ### Phase 8: Module 5 - SchvalovacÃ­ listy (2-3 tÃ½dny)
   - [ ] Approval definitions page
   - [ ] Sent approvals page
   - [ ] Received approvals page
   - [ ] Approvals fast view
   - [ ] Accounting approvals page
   - [ ] Controlling view
   - [ ] Approval workflow engine

   ### Phase 9: Module 7-11 - NastavenÃ­ & Administrace (3-4 tÃ½dny)
   - [ ] Cartesis export
   - [ ] Account mapping
   - [ ] Companies management
   - [ ] Consolidation groups
   - [ ] Balance bridges
   - [ ] Budget bridges
   - [ ] All reference/codebooks
   - [ ] User permissions matrix
   - [ ] System parameters
   - [ ] Email management

   ### Phase 10: Advanced Features (2-3 tÃ½dny)
   - [ ] Real-time notifications
   - [ ] Advanced search
   - [ ] Batch operations
   - [ ] Export/Import functionality
   - [ ] Reporting engine
   - [ ] Audit log viewer

   ### Phase 11: Testing & Optimization (2 tÃ½dny)
   - [ ] Unit tests (80%+ coverage)
   - [ ] Integration tests
   - [ ] E2E tests (critical paths)
   - [ ] Performance optimization
   - [ ] Accessibility audit
   - [ ] Cross-browser testing

   ### Phase 12: Documentation & Deployment (1 tÃ½den)
   - [ ] User documentation
   - [ ] Developer documentation
   - [ ] API documentation
   - [ ] Deployment guide
   - [ ] Training materials

   ---

   ## 4. API ENDPOINTS MAPPING

   ### 4.1 Documents Module

   ```
   GET    /bff/documents                     # List documents
   GET    /bff/documents/{id}                # Document detail
   POST   /bff/documents                     # Create document
   PUT    /bff/documents/{id}                # Update document
   DELETE /bff/documents/{id}                # Delete document
   POST   /bff/documents/{id}/upload         # Upload document file
   GET    /bff/documents/{id}/download       # Download document
   POST   /bff/documents/generate            # Generate sub-consolidation
   GET    /bff/documents/queue               # Generation queue status
   ```

   ### 4.2 Projects Module

   ```
   GET    /bff/projects                      # List projects âœ…
   GET    /bff/projects/{id}                 # Project detail âœ…
   POST   /bff/projects                      # Create project âœ…
   PUT    /bff/projects/{id}                 # Update project âœ…
   DELETE /bff/projects/{id}                 # Delete project
   GET    /bff/projects/{id}/cashflows       # Project cash flows
   POST   /bff/projects/{id}/cashflows       # Add cash flow
   GET    /bff/projects/proposals            # Project proposals
   POST   /bff/projects/proposals            # Create proposal
   ```

   ### 4.3 Budgets Module

   ```
   GET    /bff/budgets                       # List budgets âœ…
   GET    /bff/budgets/{id}                  # Budget detail âœ…
   POST   /bff/budgets                       # Create budget âœ…
   PUT    /bff/budgets/{id}                  # Update budget âœ…
   DELETE /bff/budgets/{id}                  # Delete budget
   POST   /bff/budgets/{id}/approve          # Approve budget
   GET    /bff/budgets/departments           # Department budgets
   GET    /bff/budgets/projects              # Project budgets
   ```

   ### 4.4 Assets Module

   ```
   GET    /bff/assets                        # List assets
   GET    /bff/assets/{id}                   # Asset detail
   POST   /bff/assets                        # Create asset
   PUT    /bff/assets/{id}                   # Update asset
   DELETE /bff/assets/{id}                   # Delete asset
   GET    /bff/assets/overview               # Assets overview
   GET    /bff/assets/changes                # Assets changes log
   ```

   ### 4.5 Positions Module

   ```
   GET    /bff/positions/currency            # Currency positions
   GET    /bff/positions/credit              # Credit positions
   POST   /bff/positions/cashflow/export     # Export cash flow
   GET    /bff/positions/capital             # Capital settings
   PUT    /bff/positions/capital             # Update capital
   ```

   ### 4.6 Approvals Module

   ```
   GET    /bff/approvals                     # List approvals
   GET    /bff/approvals/{id}                # Approval detail
   POST   /bff/approvals                     # Create approval
   PUT    /bff/approvals/{id}                # Update approval
   DELETE /bff/approvals/{id}                # Delete approval
   POST   /bff/approvals/{id}/send           # Send approval
   POST   /bff/approvals/{id}/approve        # Approve
   POST   /bff/approvals/{id}/reject         # Reject
   GET    /bff/approvals/sent                # Sent approvals
   GET    /bff/approvals/received            # Received approvals
   GET    /bff/approvals/controlling         # Controlling view
   ```

   ### 4.7 Reference Data

   ```
   GET    /bff/reference/project-statuses    âœ…
   GET    /bff/reference/users               âœ…
   GET    /bff/reference/categories          âœ…
   GET    /bff/reference/management-segments âœ…
   GET    /bff/reference/currencies          âœ…
   GET    /bff/reference/frequencies         âœ…
   GET    /bff/reference/project-proposals   âœ…
   GET    /bff/reference/balance-types       âœ…
   GET    /bff/reference/budget-types        âœ…
   GET    /bff/reference/companies           # Companies list
   GET    /bff/reference/departments         # Departments
   GET    /bff/reference/account-types       # Account types
   ```

   ### 4.8 Admin Module

   ```
   GET    /bff/admin/users                   # List users
   POST   /bff/admin/users                   # Create user
   PUT    /bff/admin/users/{id}              # Update user
   DELETE /bff/admin/users/{id}              # Delete user
   GET    /bff/admin/permissions             # Permissions matrix
   PUT    /bff/admin/permissions             # Update permissions
   GET    /bff/admin/parameters              # System parameters
   PUT    /bff/admin/parameters              # Update parameters
   GET    /bff/admin/logs                    # System logs
   GET    /bff/admin/audit                   # Audit trail
   ```

   ---

   ## 5. UI/UX GUIDELINES

   ### 5.1 Design Principles

   1. **Consistency**: Unified look & feel across all modules
   2. **Clarity**: Clear information hierarchy
   3. **Efficiency**: Minimize clicks, keyboard shortcuts
   4. **Responsiveness**: Desktop-first, tablet/mobile-friendly
   5. **Accessibility**: WCAG 2.1 AA compliance

   ### 5.2 Color Palette

   ```css
   /* Primary Colors */
   --color-primary: #2563eb;        /* Blue 600 */
   --color-primary-hover: #1d4ed8;  /* Blue 700 */
   --color-primary-light: #dbeafe;  /* Blue 100 */

   /* Status Colors */
   --color-success: #16a34a;        /* Green 600 */
   --color-warning: #ea580c;        /* Orange 600 */
   --color-danger: #dc2626;         /* Red 600 */
   --color-info: #0284c7;           /* Sky 600 */

   /* Neutrals */
   --color-gray-50: #f9fafb;
   --color-gray-100: #f3f4f6;
   --color-gray-200: #e5e7eb;
   --color-gray-300: #d1d5db;
   --color-gray-400: #9ca3af;
   --color-gray-500: #6b7280;
   --color-gray-600: #4b5563;
   --color-gray-700: #374151;
   --color-gray-800: #1f2937;
   --color-gray-900: #111827;
   ```

   ### 5.3 Typography

   ```css
   /* Font Family */
   --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
   --font-mono: 'Fira Code', 'Courier New', monospace;

   /* Font Sizes */
   --text-xs: 0.75rem;    /* 12px */
   --text-sm: 0.875rem;   /* 14px */
   --text-base: 1rem;     /* 16px */
   --text-lg: 1.125rem;   /* 18px */
   --text-xl: 1.25rem;    /* 20px */
   --text-2xl: 1.5rem;    /* 24px */
   --text-3xl: 1.875rem;  /* 30px */

   /* Font Weights */
   --font-normal: 400;
   --font-medium: 500;
   --font-semibold: 600;
   --font-bold: 700;
   ```

   ### 5.4 Spacing System

   ```css
   /* Spacing Scale (4px base) */
   --space-1: 0.25rem;    /* 4px */
   --space-2: 0.5rem;     /* 8px */
   --space-3: 0.75rem;    /* 12px */
   --space-4: 1rem;       /* 16px */
   --space-5: 1.25rem;    /* 20px */
   --space-6: 1.5rem;     /* 24px */
   --space-8: 2rem;       /* 32px */
   --space-10: 2.5rem;    /* 40px */
   --space-12: 3rem;      /* 48px */
   --space-16: 4rem;      /* 64px */
   ```

   ### 5.5 Component Standards

   #### Buttons
   - Primary: Blue, used for main actions
   - Secondary: Gray, used for secondary actions
   - Success: Green, used for confirmations
   - Danger: Red, used for destructive actions
   - Ghost: Transparent, used for tertiary actions

   #### Forms
   - Labels: Above fields, bold, dark gray
   - Required: Red asterisk (*)
   - Validation: Inline error messages below fields
   - Help text: Light gray, smaller font
   - Max width: 600px for forms

   #### Tables
   - Striped rows: Alternate gray background
   - Hover: Subtle highlight on row hover
   - Sortable columns: Arrow indicators
   - Sticky header: On scroll
   - Pagination: Bottom right

   #### Modals
   - Max width: 800px (standard), 1200px (wide)
   - Overlay: Semi-transparent black
   - Close: X button top right
   - Animation: Fade in/out + slide up

   ---

   ## 6. PERFORMANCE TARGETS

   ### 6.1 Core Web Vitals

   ```
   Largest Contentful Paint (LCP): < 2.5s
   First Input Delay (FID): < 100ms
   Cumulative Layout Shift (CLS): < 0.1
   Time to Interactive (TTI): < 3.5s
   ```

   ### 6.2 Bundle Size

   ```
   Initial bundle: < 200KB (gzipped)
   Main bundle: < 500KB (gzipped)
   Lazy-loaded chunks: < 100KB each (gzipped)
   ```

   ### 6.3 Optimizations

   - Code splitting by route
   - Lazy loading of heavy components
   - Image optimization (WebP, lazy loading)
   - API response caching (TanStack Query)
   - Virtual scrolling for large tables
   - Debounced search inputs
   - Memoization of expensive computations

   ---

   ## 7. SECURITY CONSIDERATIONS

   ### 7.1 Authentication
   - JWT tokens (access + refresh)
   - Secure HTTP-only cookies
   - Token rotation
   - Session timeout

   ### 7.2 Authorization
   - Role-based access control (RBAC)
   - Permission-based UI rendering
   - API endpoint protection
   - Data masking for sensitive fields

   ### 7.3 Data Protection
   - HTTPS only
   - XSS protection
   - CSRF protection
   - Input validation & sanitization
   - SQL injection prevention (backend)
   - Secure file uploads

   ---

   ## 8. TESTING STRATEGY

   ### 8.1 Unit Tests (Vitest)
   - All utility functions
   - Custom hooks
   - Complex business logic
   - Target: 80%+ coverage

   ### 8.2 Integration Tests (Testing Library)
   - Component interactions
   - Form submissions
   - API integration
   - State management

   ### 8.3 E2E Tests (Playwright)
   - Critical user paths
   - Login/logout flow
   - Document creation flow
   - Approval workflow
   - Budget planning flow

   ---

   ## 9. DEPLOYMENT STRATEGY

   ### 9.1 Environments

   ```
   Development: http://localhost:5173
   Staging: https://kis-staging.company.com
   Production: https://kis.company.com
   ```

   ### 9.2 CI/CD Pipeline

   ```yaml
   1. Code commit â†’ Git push
   2. CI runs:
      - Lint (ESLint)
      - Type check (TypeScript)
      - Unit tests (Vitest)
      - Build (Vite)
   3. CD deploys to:
      - Staging (on merge to develop)
      - Production (on merge to main)
   ```

   ### 9.3 Build Configuration

   ```javascript
   // vite.config.ts
   export default defineConfig({
     build: {
       target: 'es2020',
       minify: 'terser',
       sourcemap: true,
       rollupOptions: {
         output: {
           manualChunks: {
             vendor: ['react', 'react-dom', 'react-router-dom'],
             table: ['@tanstack/react-table'],
             forms: ['react-hook-form', 'zod'],
           },
         },
       },
     },
   });
   ```

   ---

   ## 10. MILESTONES & TIMELINE

   ### Q1 2025 (Leden - BÅ™ezen)
   - âœ… Phase 1: Core Infrastructure (Week 1-2)
   - âœ… Phase 2: Authentication (Week 3)
   - âœ… Phase 3: Documents Module (Week 4-5)
   - âœ… Phase 4: Projects Module (Week 6-7)
   - âœ… Phase 5: Budgets Module (Week 8-9)
   - ğŸ”² Phase 6: Assets Module (Week 10-11)
   - ğŸ”² Phase 7: Positions Module (Week 12-13)

   ### Q2 2025 (Duben - ÄŒerven)
   - ğŸ”² Phase 8: Approvals Module (Week 14-16)
   - ğŸ”² Phase 9: Admin Module (Week 17-20)
   - ğŸ”² Phase 10: Advanced Features (Week 21-23)
   - ğŸ”² Phase 11: Testing & Optimization (Week 24-25)

   ### Q3 2025 (ÄŒervenec - ZÃ¡Å™Ã­)
   - ğŸ”² Phase 12: Documentation & Deployment (Week 26)
   - ğŸ”² User Acceptance Testing (Week 27-28)
   - ğŸ”² Production Deployment (Week 29)
   - ğŸ”² Post-launch Monitoring & Fixes (Week 30-34)

   ---

   ## 11. DEPENDENCIES & RISKS

   ### 11.1 Dependencies

   1. **Backend API**: BFF must be completed for each module
   2. **Design Assets**: Finalized mockups/designs
   3. **User Permissions**: RBAC matrix definition
   4. **Database**: Schema must support all operations
   5. **Testing Data**: Realistic test dataset

   ### 11.2 Risks

   | Risk | Probability | Impact | Mitigation |
   |------|-------------|---------|------------|
   | API delays | High | High | Mock API responses, parallel development |
   | Scope creep | Medium | High | Strict change management, prioritization |
   | Performance issues | Medium | Medium | Early performance testing, optimization |
   | Security vulnerabilities | Low | High | Security audits, penetration testing |
   | Browser compatibility | Low | Medium | Cross-browser testing, polyfills |

   ---

   ## 12. SUCCESS CRITERIA

   ### 12.1 Functional
   - âœ… All 11 modules fully implemented
   - âœ… All critical user workflows functional
   - âœ… Data integrity maintained
   - âœ… All reports working
   - âœ… No data loss during migration

   ### 12.2 Non-Functional
   - âœ… Page load time < 2s
   - âœ… API response time < 500ms
   - âœ… 99.9% uptime
   - âœ… Support 500+ concurrent users
   - âœ… Accessibility AA compliance

   ### 12.3 User Satisfaction
   - âœ… User training completed
   - âœ… 90%+ user adoption rate
   - âœ… < 5 critical bugs per month
   - âœ… Positive user feedback

   ---

   ## 13. NEXT STEPS

   ### Immediate Actions
   1. âœ… Complete current modules (Documents, Projects, Budgets)
   2. ğŸ”² Set up authentication & authorization
   3. ğŸ”² Start Assets module implementation
   4. ğŸ”² Backend team: Implement remaining BFF endpoints
   5. ğŸ”² UX team: Finalize remaining screens mockups

   ### Week 1 Priority
   - [ ] Implement LoginPage component
   - [ ] Set up protected routes
   - [ ] Integrate auth API
   - [ ] Create user permissions hooks
   - [ ] Start Assets module layout

   ---