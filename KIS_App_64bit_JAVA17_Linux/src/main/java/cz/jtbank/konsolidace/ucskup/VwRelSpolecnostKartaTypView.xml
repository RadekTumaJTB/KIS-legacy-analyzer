<?xml version="1.0" encoding='windows-1250'?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">

<ViewObject
   Name="VwRelSpolecnostKartaTypView"
   SelectList="KpRelSpolecnostkartatyp.ID_KTGUCETNISPOLECNOST, 
       KpRelSpolecnostkartatyp.ID_KARTATYP, 

       KpRelSpolecnostkartatyp.DT_ZPRAVADALSI, 
       KpRelSpolecnostkartatyp.NL_PERIODAMESICU, 

       KpKtgUcetnispolecnost.S_NAZEV, 
       KpKtgUcetnispolecnost.ID, 

       KpDatKartatyp.S_POPIS, 
       KpDatKartatyp.ID AS ID1, 

       case   when dt_zpravaDalsi is null then &#39;1&#39;   when dt_zpravaDalsi 
                &#62; sysdate then &#39;1&#39;   when (select count(*)  from 
    db_jt.kp_dat_kartaSpolZprava             z         where 
z.id_ktgUcetniSpolecnost     = KpRelSpolecnostKartaTyp.id_ktgUcetniSpolecnost 
                   and z.id_kartaTyp = KpRelSpolecnostKartaTyp.id_kartaTyp 
                  and  z.dt_datum &#62;= dt_zpravaDalsi) &#62; 0 then 
 &#39;1&#39;   else   &#39;0&#39;      end AS C_ZPRAVASPLNENO, 
       KpKtgUcetnispolecnost.ID_ODPOVEDNAOSOBA, 

       KpKtgUcetnispolecnost.ID_MNGSEGMENTBOSS, 
       (SELECT 
 u.s_titulypred || &#39; &#39; || u.s_krestni || &#39; &#39; || u.s_prijmeni 
|| &#39; &#39; || u.s_titulypo FROM db_jt.ktg_appuser u WHERE u.ID = 
KpKtgUcetnispolecnost.id_odpovednaOsoba) AS ODPOVEDNAOSOBA"
   FromList="DB_JT.KP_REL_SPOLECNOSTKARTATYP KpRelSpolecnostkartatyp, DB_JT.KP_KTG_UCETNISPOLECNOST KpKtgUcetnispolecnost, DB_JT.KP_DAT_KARTATYP KpDatKartatyp"
   Where="KpRelSpolecnostkartatyp.ID_KARTATYP = KpDatKartatyp.ID AND KpRelSpolecnostkartatyp.ID_KTGUCETNISPOLECNOST = KpKtgUcetnispolecnost.ID"
   BindingStyle="Oracle"
   CustomQuery="false"
   ComponentClass="cz.jtbank.konsolidace.ucskup.VwRelSpolecnostKartaTypViewImpl"
   MsgBundleClass="oracle.jbo.common.JboResourceBundle"
   UseGlueCode="false" >
   <DesignTime>
      <Attr Name="_version" Value="9.0.4.13.65" />
      <Attr Name="_CodeGenFlagNew" Value="36" />
   </DesignTime>
   <EntityUsage
      Name="KpRelSpolecnostkartatyp"
      Entity="cz.jtbank.konsolidace.ucskup.KpRelSpolecnostkartatyp"
      ReadOnly="true" >
      <DesignTime>
         <Attr Name="_EntireObjectTable" Value="false" />
         <Attr Name="_queryClause" Value="true" />
         <Attr Name="_queryWhere" Value="KpRelSpolecnostkartatyp.ID_KARTATYP = KpDatKartatyp.ID AND KpRelSpolecnostkartatyp.ID_KTGUCETNISPOLECNOST = KpKtgUcetnispolecnost.ID" />
      </DesignTime>
   </EntityUsage>
   <EntityUsage
      Name="KpKtgUcetnispolecnost"
      Entity="cz.jtbank.konsolidace.doklady.KpKtgUcetnispolecnost"
      SourceUsage="cz.jtbank.konsolidace.ucskup.VwRelSpolecnostKartaTypView.KpRelSpolecnostkartatyp"
      ReadOnly="true"
      Reference="true" >
      <DesignTime>
         <Attr Name="_EntireObjectTable" Value="false" />
         <Attr Name="_queryClause" Value="false" />
      </DesignTime>
   </EntityUsage>
   <EntityUsage
      Name="KpDatKartatyp"
      Entity="cz.jtbank.konsolidace.ucskup.KpDatKartatyp"
      Association="cz.jtbank.konsolidace.ucskup.FkKprelspolkartatypIdkartatAssoc"
      AssociationEnd="cz.jtbank.konsolidace.ucskup.FkKprelspolkartatypIdkartatAssoc.KpDatKartatyp"
      SourceUsage="cz.jtbank.konsolidace.ucskup.VwRelSpolecnostKartaTypView.KpRelSpolecnostkartatyp"
      ReadOnly="true"
      Reference="true" >
      <DesignTime>
         <Attr Name="_EntireObjectTable" Value="false" />
         <Attr Name="_queryClause" Value="false" />
         <AttrArray Name="_srcAttributes">
            <Item Value="cz.jtbank.konsolidace.ucskup.KpRelSpolecnostkartatyp.IdKartatyp" />
         </AttrArray>
         <AttrArray Name="_dstAttributes">
            <Item Value="cz.jtbank.konsolidace.ucskup.KpDatKartatyp.Id" />
         </AttrArray>
      </DesignTime>
   </EntityUsage>
   <ViewAttribute
      Name="IdKtgucetnispolecnost"
      IsNotNull="true"
      EntityAttrName="IdKtgucetnispolecnost"
      EntityUsage="KpRelSpolecnostkartatyp"
      AliasName="ID_KTGUCETNISPOLECNOST"
      ColumnType="VARCHAR2" >
   </ViewAttribute>
   <ViewAttribute
      Name="IdKartatyp"
      IsNotNull="true"
      EntityAttrName="IdKartatyp"
      EntityUsage="KpRelSpolecnostkartatyp"
      AliasName="ID_KARTATYP"
      ColumnType="VARCHAR2" >
   </ViewAttribute>
   <ViewAttribute
      Name="DtZpravadalsi"
      EntityAttrName="DtZpravadalsi"
      EntityUsage="KpRelSpolecnostkartatyp"
      AliasName="DT_ZPRAVADALSI"
      ColumnType="VARCHAR2" >
   </ViewAttribute>
   <ViewAttribute
      Name="NlPeriodamesicu"
      EntityAttrName="NlPeriodamesicu"
      EntityUsage="KpRelSpolecnostkartatyp"
      AliasName="NL_PERIODAMESICU"
      ColumnType="VARCHAR2" >
   </ViewAttribute>
   <ViewAttribute
      Name="Spolecnost"
      EntityAttrName="SNazev"
      EntityUsage="KpKtgUcetnispolecnost"
      AliasName="S_NAZEV"
      ColumnType="VARCHAR2" >
   </ViewAttribute>
   <ViewAttribute
      Name="Id"
      IsNotNull="true"
      EntityAttrName="Id"
      EntityUsage="KpKtgUcetnispolecnost"
      AliasName="ID"
      ColumnType="VARCHAR2" >
   </ViewAttribute>
   <ViewAttribute
      Name="KartaTyp"
      EntityAttrName="SPopis"
      EntityUsage="KpDatKartatyp"
      AliasName="S_POPIS"
      ColumnType="VARCHAR2" >
   </ViewAttribute>
   <ViewAttribute
      Name="Id1"
      IsNotNull="true"
      EntityAttrName="Id"
      EntityUsage="KpDatKartatyp"
      AliasName="ID1"
      ColumnType="VARCHAR2" >
   </ViewAttribute>
   <ViewAttribute
      Name="CZpravasplneno"
      IsUpdateable="false"
      IsPersistent="false"
      Precision="1"
      Type="java.lang.String"
      AliasName="C_ZPRAVASPLNENO"
      ColumnType="CHAR"
      Expression="case   when dt_zpravaDalsi is null then &#39;1&#39;   when dt_zpravaDalsi 
                &#62; sysdate then &#39;1&#39;   when (select count(*)  from 
    db_jt.kp_dat_kartaSpolZprava             z         where 
z.id_ktgUcetniSpolecnost     = KpRelSpolecnostKartaTyp.id_ktgUcetniSpolecnost 
                   and z.id_kartaTyp = KpRelSpolecnostKartaTyp.id_kartaTyp 
                  and  z.dt_datum &#62;= dt_zpravaDalsi) &#62; 0 then 
 &#39;1&#39;   else   &#39;0&#39;      end"
      SQLType="VARCHAR" >
   </ViewAttribute>
   <ViewAttribute
      Name="IdOdpovednaosoba"
      EntityAttrName="IdOdpovednaosoba"
      EntityUsage="KpKtgUcetnispolecnost"
      AliasName="ID_ODPOVEDNAOSOBA"
      ColumnType="VARCHAR2" >
   </ViewAttribute>
   <ViewAttribute
      Name="IdMngsegmentboss"
      EntityAttrName="IdMngsegmentboss"
      EntityUsage="KpKtgUcetnispolecnost"
      AliasName="ID_MNGSEGMENTBOSS"
      ColumnType="VARCHAR2" >
   </ViewAttribute>
   <ViewAttribute
      Name="Odpovednaosoba"
      IsUpdateable="false"
      IsPersistent="false"
      Precision="255"
      Type="java.lang.String"
      AliasName="ODPOVEDNAOSOBA"
      ColumnType="VARCHAR2"
      Expression="(SELECT  u.s_titulypred || &#39; &#39; || u.s_krestni || &#39; &#39; || u.s_prijmeni || &#39; &#39; || u.s_titulypo FROM db_jt.ktg_appuser u WHERE u.ID = KpKtgUcetnispolecnost.id_odpovednaOsoba)"
      SQLType="VARCHAR" >
   </ViewAttribute>
</ViewObject>
